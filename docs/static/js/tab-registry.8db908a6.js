(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"./src/TabRegistry.mdx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return g});var n=r("./node_modules/react/index.js"),i=r.n(n),s=r("./node_modules/@mdx-js/tag/dist/index.js"),o=r("./node_modules/docz/dist/index.m.js"),u=r("./src/TabRegistry.ts");function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=l(this,y(t).call(this,e))).layout=null,r}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.components;c(e,["components"]);return i.a.createElement(s.MDXTag,{name:"wrapper",components:t},i.a.createElement(s.MDXTag,{name:"h1",components:t,props:{id:"tab-registry"}},"Tab registry"),i.a.createElement(s.MDXTag,{name:"p",components:t},"The core of this project lives inside this utility class and data structure.\nA registry is basically just a glorified map, from an identifier to a focus function.\nThe registry keeps track of identifiers and their corresponding focus function, every focus\nfunction has a two jobs, number is to focus its component it represents, and report back to\nif it was successful. Their can be any number of reason why a focus call wasn't successful,\nthe most common one is if the component / input fields is in some kind disabled state."),i.a.createElement(s.MDXTag,{name:"h2",components:t,props:{id:"data-structure"}},"Data structure"),i.a.createElement(s.MDXTag,{name:"p",components:t},"The registry itself is powered by a doubly linked ordered set of identifiers and a map from an identifier\nand its corresponding focus function, this means that an identifier can only be used once per registry,\nhower it is possible to nest registries, so the identifiers only needs to be unique among its siblings."),i.a.createElement(s.MDXTag,{name:"h3",components:t,props:{id:"api"}},"API"),i.a.createElement(o.f,{of:{__docgenInfo:{props:u.a}}}))}}])&&f(r.prototype,n),a&&f(r,a),t}()},"./src/TabRegistry.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r("./node_modules/@babel/runtime/regenerator/index.js"),i=r.n(n),s=r("./node_modules/@secoya/collection.ts/lib2015/index.js");function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var f={focusOrigin:"none"},l={focusOrigin:"next"},y={focusOrigin:"prev"},h={focusOrigin:"child"},g=Symbol.iterator,p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cycle=!1,this.focusCycleStartKey=null,this.focuserMap=void 0,this.internalParentRegistry=void 0,this.parentRegistryKey=void 0,this.registry=void 0,this.focusFirstOnNextOrigin=void 0,this.focusParentOnChildOrigin=void 0,this[g]=i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isEmpty){t.next=2;break}return t.abrupt("return");case 2:r=this.firstKey;case 3:if(!r){t.next=13;break}if(!(r instanceof e)){t.next=8;break}return t.delegateYield(Array.from(r),"t0",6);case 6:t.next=10;break;case 8:return t.next=10,this.focuserMap.get(r);case 10:r=this.getNextKey(r),t.next=3;break;case 13:case"end":return t.stop()}},t,this)}),this.keys=i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.registry.isEmpty){e.next=2;break}return e.abrupt("return");case 2:t=this.registry.first;case 3:if(!t){e.next=9;break}return e.next=6,t;case 6:t=this.getNextKey(t),e.next=3;break;case 9:case"end":return e.stop()}},e,this)}),this.keysRecursive=i.a.mark(function t(){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.registry.isEmpty){t.next=2;break}return t.abrupt("return");case 2:r=this.registry.first;case 3:if(!r){t.next=14;break}if(!((n=this.focuserMap.get(r))instanceof e)){t.next=9;break}return t.delegateYield(Array.from(n.keysRecursive()),"t0",7);case 7:t.next=11;break;case 9:return t.next=11,r;case 11:r=this.getNextKey(r),t.next=3;break;case 14:case"end":return t.stop()}},t,this)}),this.focuserMap=new Map,this.registry=new s.a,this.internalParentRegistry=null,null==t?(this.cycle=!1,this.focusFirstOnNextOrigin=!1,this.focusParentOnChildOrigin=!1):(this.cycle=!0===t.cycle,this.focusFirstOnNextOrigin=!0===t.focusFirstOnNextOrigin,this.focusParentOnChildOrigin=!0===t.focusParentOnChildOrigin)}return c(e,[{key:"first",get:function(){var e=this.firstKey;return null==e?null:this.focuserMap.get(e)}},{key:"firstKey",get:function(){return this.isEmpty?null:this.registry.first}},{key:"isCycleEnabled",get:function(){return!0===this.cycle}},{key:"isEmpty",get:function(){return this.registry.isEmpty}},{key:"last",get:function(){var e=this.lastKey;return null==e?null:this.focuserMap.get(e)}},{key:"lastKey",get:function(){return this.isEmpty?null:this.registry.last}},{key:"parentRegistry",get:function(){return this.internalParentRegistry}},{key:"rootRegistry",get:function(){for(var e=this;null!=e.parentRegistry;)e=e.parentRegistry;return e}}],[{key:"empty",value:function(){return new e}},{key:"fromMap",value:function(t,r){var n=new e(r);return t.forEach(function(t,r){if(t instanceof Map){var i=e.fromMap(t);n.add(r,i)}else n.add(r,t)}),n}}]),c(e,[{key:"_toString",value:function(t,r,n){for(var i=null==n?1:n,s="",o=!0,u=Array.from(t),a=0;a<u.length;a++){var c=u[a];o?o=!1:s+=",\n";var f=this.focuserMap.get(c);s+=f instanceof e?this._toString.call(f,f.keys(),r+"    ",i+1):r+c}return s}},{key:"add",value:function(t,r){this.registry.add(t),this.focuserMap.set(t,r),r instanceof e&&r.setParentRegistry(t,this)}},{key:"addAfter",value:function(t,r,n){this.registry.addAfter(t,n),this.focuserMap.set(t,r),r instanceof e&&r.setParentRegistry(t,this)}},{key:"addBefore",value:function(t,r,n){this.registry.addBefore(t,n),this.focuserMap.set(t,r),r instanceof e&&r.setParentRegistry(t,this)}},{key:"delete",value:function(e){this.registry.delete(e),this.focuserMap.delete(e)}},{key:"disableCycle",value:function(){return this.cycle=!1,this}},{key:"enableCycle",value:function(){return this.cycle=!0,this}},{key:"focus",value:function(t,r){var n=r||f;if(this.focusParentOnChildOrigin&&"child"===n.focusOrigin)return this.focusParent();var i=t;if(null==i&&null==(i=null==r||"next"!==r.focusOrigin||r.focusFirstOnNextOrigin?this.firstKey:this.lastKey))return!1;var s=this.focuserMap.get(i);return null!=s&&(s instanceof e?s.focus(void 0,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){u(e,t,r[t])})}return e}({},n,{focusFirstOnNextOrigin:s.focusFirstOnNextOrigin})):s(n))}},{key:"focusFirst",value:function(){if(this.registry.isEmpty)return!1;var t=this.registry.first,r=this.focuserMap.get(t);return null!=r&&(!!(r instanceof e?r.focusFirst():r(y))||(this.cycle&&null==this.focusCycleStartKey&&(this.focusCycleStartKey=t),this.focusNext(t)))}},{key:"focusFirstIn",value:function(e){if(this.registry.isEmpty)return!1;var t=this.registry.first;return null!=t&&this.focusIn([t].concat(o(e)),y)}},{key:"focusIn",value:function(t,r){var n=t.shift();if(null==n)return!1;for(var i=this;i.has(n);){var s=i.get(n);if(null==s)return!1;var o=t.shift();if(null==o)return s instanceof e?s.focus(void 0,r):s(null==r?f:r);if(n=o,!(s instanceof e))return!1;i=s}return!1}},{key:"focusLast",value:function(){if(this.registry.isEmpty)return!1;var t=this.registry.last,r=this.focuserMap.get(t);return null!=r&&(!!(r instanceof e?r.focusLast():r(l))||(this.cycle&&null==this.focusCycleStartKey&&(this.focusCycleStartKey=t),this.focusPrev(t)))}},{key:"focusLastIn",value:function(e){if(this.registry.isEmpty)return!1;var t=this.registry.last;return null!=t&&this.focusIn([t].concat(o(e)),l)}},{key:"focusNext",value:function(t){for(var r,n,i=this.getNextKey(t),s=this.registry.size;s>0&&null!=i;s--)if(n=i,r=this.focuserMap.get(n),i=this.getNextKey(n),null!=r){if(r instanceof e?r.focusFirst():r(y))return this.focusCycleStartKey=null,!0;if(this.cycle&&n===this.focusCycleStartKey)return this.focusCycleStartKey=null,!1}if(this.cycle){if(null==this.focusCycleStartKey)this.focusCycleStartKey=t;else if(this.focusCycleStartKey===t)return this.focusCycleStartKey=null,!1;return this.focusFirst()}return null!=this.internalParentRegistry?(this.focusCycleStartKey=null,this.internalParentRegistry.focusNext(this.parentRegistryKey),!0):(this.focusCycleStartKey=null,!1)}},{key:"focusNextIn",value:function(e){var t=e.shift();if(null==t)return!1;var r=this.getNextKey(t);return null!=r&&this.focusIn([r].concat(o(e)),y)}},{key:"focusParent",value:function(){return null!=this.internalParentRegistry&&this.internalParentRegistry.focus(void 0,h)}},{key:"focusPrev",value:function(t){for(var r,n,i=this.getPrevKey(t),s=this.registry.size;s>0&&null!=i;s--)if(n=i,r=this.focuserMap.get(i),i=this.getPrevKey(i),null!=r){if(r instanceof e?r.focusLast():r(l))return this.focusCycleStartKey=null,!0;if(this.cycle&&n===this.focusCycleStartKey)return this.focusCycleStartKey=null,!1}if(this.cycle){if(null==this.focusCycleStartKey)this.focusCycleStartKey=t;else if(this.focusCycleStartKey===t)return this.focusCycleStartKey=null,!1;return this.focusLast()}return null!=this.internalParentRegistry?(this.focusCycleStartKey=null,this.internalParentRegistry.focusPrev(this.parentRegistryKey),!0):(this.focusCycleStartKey=null,!1)}},{key:"focusPrevIn",value:function(e){var t=e.shift();if(null==t)return!1;var r=this.getPrevKey(t);return null!=r&&this.focusIn([r].concat(o(e)),l)}},{key:"get",value:function(e){var t=this.focuserMap.get(e);return null==t?null:t}},{key:"getNext",value:function(e){var t=this.getNextKey(e);if(null==t)return null;var r=this.focuserMap.get(t);return null==r?null:r}},{key:"getNextKey",value:function(e){return this.registry.next(e)}},{key:"getPrev",value:function(e){var t=this.getPrevKey(e);if(null==t)return null;var r=this.focuserMap.get(t);return null==r?null:r}},{key:"getPrevKey",value:function(e){return this.registry.prev(e)}},{key:"has",value:function(e){return this.focuserMap.has(e)}},{key:"hasIn",value:function(t){var r=t.shift();if(null==r)return!1;for(var n=this;n.has(r);){var i=n.get(r);if(null==i)return!1;var s=t.shift();if(null==s)return!0;if(r=s,!(i instanceof e))return!1;n=i}return!1}},{key:"hasNext",value:function(e){return!!this.registry.has(e)&&null!=this.getNextKey(e)}},{key:"hasPrev",value:function(e){return!!this.registry.has(e)&&null!=this.getPrevKey(e)}},{key:"moveNext",value:function(e){if(null==this.focuserMap.get(e))throw new Error("Focuser for ".concat(e," was not found"));var t=this.getNextKey(e);null!=t&&this.registry.setAfter(e,t)}},{key:"movePrev",value:function(e){if(null==this.focuserMap.get(e))throw new Error("Focuser for ".concat(e," was not found"));var t=this.getPrevKey(e);null!=t&&this.registry.setBefore(e,t)}},{key:"set",value:function(e,t){if(null==this.focuserMap.get(e))throw new Error("Key does not exist: ".concat(e));this.focuserMap.set(e,t)}},{key:"setParentRegistry",value:function(e,t){this.internalParentRegistry=t,this.parentRegistryKey=e}},{key:"toString",value:function(){return"TabRegistry[\n"+this._toString(this.registry,"    ")+"\n]"}}]),e}();try{p.displayName="TabRegistry",p.__docgenInfo={description:"Library class for controlling complex nested linked structures.",displayName:"TabRegistry",props:{}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/TabRegistry.ts#TabRegistry"]={docgenInfo:p.__docgenInfo,name:"TabRegistry",path:"src/TabRegistry.ts#TabRegistry"})}catch(v){}}}]);
//# sourceMappingURL=tab-registry.24626f3ba7e33f9e97ea.js.map